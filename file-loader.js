// Adjust these params to your needs
const SVG_FOLDER_LOCATION = "/svg"

// Usage: file:yourSvgName (no file extensions)
const NAMESPACE = "file"

async function loadFile(path) {
	const response = await fetch(`/local${SVG_FOLDER_LOCATION}/${path}.svg`)
	if (response.ok) {
		const svgString = await response.text()
		return /d="(.*?)"/.exec(svgString)[1]
	} else {
		return "M18.450267,12.941252 L17.216267,19.019252 C17.099267,19.589252 16.591267,20.000252 16.000267,20.000252 C15.409267,20.000252 14.900267,19.589252 14.784267,19.019252 L13.550267,12.941252 C13.240267,11.420252 14.423267,10.000252 16.000267,10.000252 C17.577267,10.000252 18.760267,11.420252 18.450267,12.941252 M16.000267,25.000252 C15.171267,25.000252 14.498267,24.328252 14.498267,23.500252 C14.498267,22.671252 15.171267,22.000252 16.000267,22.000252 C16.829267,22.000252 17.502267,22.671252 17.502267,23.500252 C17.502267,24.328252 16.829267,25.000252 16.000267,25.000252 M27.663267,14.191252 L16.708267,4.27825203 C16.308267,3.90825203 15.692267,3.90725203 15.292267,4.27525203 L4.340267,14.188252 C3.638267,14.832252 4.095267,16.000252 5.047267,16.000252 L7.013267,16.000252 L7.000267,27.000252 C7.000267,27.552252 7.448267,28.000252 8.001267,28.000252 L23.985267,28.000252 C24.538267,28.000252 24.986267,27.552252 24.986267,27.000252 L25.000267,16.000252 L26.953267,16.000252 C27.903267,16.000252 28.360267,14.836252 27.663267,14.191252"
	}
}

async function getIcon(name) {
	const svgString = await loadFile(name)
	return {
		path: svgString,
		viewBox: "0 0 32 32"
	};
}

window.customIconsets = window.customIconsets || {};
window.customIconsets[NAMESPACE] = getIcon;